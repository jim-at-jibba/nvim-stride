*stride.txt*         For Neovim >= 0.8.0         Last change: 2025 December 27

==============================================================================
Table of Contents                                   *stride-table-of-contents*

1. stride.nvim                                            |stride-stride.nvim|
  - Features                                     |stride-stride.nvim-features|
  - Requirements                             |stride-stride.nvim-requirements|
  - Installation                             |stride-stride.nvim-installation|
  - Setup                                           |stride-stride.nvim-setup|
  - Usage                                           |stride-stride.nvim-usage|
  - How It Works                             |stride-stride.nvim-how-it-works|
  - Plugin Structure                     |stride-stride.nvim-plugin-structure|
  - Roadmap                                       |stride-stride.nvim-roadmap|
  - Development                               |stride-stride.nvim-development|
  - License                                       |stride-stride.nvim-license|
2. Links                                                        |stride-links|

==============================================================================
1. stride.nvim                                            *stride-stride.nvim*



Ultra-low latency, multi-line code predictions ("Ghost Text") for Neovim using
the Cerebras API.


FEATURES                                         *stride-stride.nvim-features*


COMPLETION MODE (DEFAULT) ~

- Real-time code completion suggestions as you type
- Treesitter-aware context capture for smarter completions
- Multi-line ghost text rendering
- Tab to accept suggestions


REFACTOR MODE ~

- **Next-edit prediction**: Rename `apple` to `orange` on line 1, and stride suggests updating line 20
- **Automatic trigger**: Predictions fire on `InsertLeave` after edits
- **Remote suggestions**: Highlights target text (strikethrough) with replacement shown at end of line
- **Incremental tracking**: Edits tracked in real-time via `nvim_buf_attach`
- **Esc to dismiss**: Press Esc in normal mode to clear remote suggestion
- **:StrideClear**: Clear all tracked changes manually


CORE ~

- Automatic race condition handling
- Configurable debounce and filetypes
- **Gutter icon**: Shows indicator in sign column when suggestion is active
- **:StrideEnable / :StrideDisable**: Toggle predictions globally


REQUIREMENTS                                 *stride-stride.nvim-requirements*

- Neovim 0.10+
- plenary.nvim <https://github.com/nvim-lua/plenary.nvim>
- nvim-treesitter <https://github.com/nvim-treesitter/nvim-treesitter> (optional, for smart context)
- fidget.nvim <https://github.com/j-hui/fidget.nvim> (optional, for notifications)
- Cerebras API key


INSTALLATION                                 *stride-stride.nvim-installation*


LAZY.NVIM ~

>lua
    {
      "your-username/nvim-stride",
      dependencies = {
        "nvim-lua/plenary.nvim",
        "nvim-treesitter/nvim-treesitter", -- optional
        "j-hui/fidget.nvim",               -- optional
      },
      config = function()
        require("stride").setup()
      end,
    }
<


PACKER.NVIM ~

>lua
    use {
      "your-username/nvim-stride",
      requires = {
        "nvim-lua/plenary.nvim",
        "nvim-treesitter/nvim-treesitter", -- optional
        "j-hui/fidget.nvim",               -- optional
      },
      config = function()
        require("stride").setup()
      end,
    }
<


SETUP                                               *stride-stride.nvim-setup*


API KEY ~

Set your Cerebras API key as an environment variable:

>bash
    export CEREBRAS_API_KEY="your-api-key-here"
<

Or pass it directly in setup:

>lua
    require("stride").setup({
      api_key = "your-api-key-here",
    })
<


CONFIGURATION ~

>lua
    require("stride").setup({
      -- API Configuration
      api_key = os.getenv("CEREBRAS_API_KEY"),
      endpoint = "https://api.cerebras.ai/v1/chat/completions",
      model = "gpt-oss-120b",  -- Default model
    
      -- UX Settings
      debounce_ms = 300,        -- Wait time before triggering prediction
      accept_keymap = "<Tab>",  -- Key to accept suggestion
      context_lines = 60,       -- Lines of context before/after cursor
    
      -- Feature Flags
      use_treesitter = true,    -- Use Treesitter for smart context expansion
      disabled_filetypes = {},  -- Filetypes to disable (e.g., {"markdown", "text"})
    
      -- Mode Selection
      mode = "completion",      -- "completion", "refactor", or "both"
      show_remote = true,       -- Show remote suggestions in refactor mode
    
      -- Refactor Mode Settings
      max_tracked_changes = 10, -- Max edits to track in history
      token_budget = 1000,      -- Max tokens for change history in prompt
      small_file_threshold = 200, -- Files <= this many lines send whole content
    
      -- Gutter Sign
      sign = {
        icon = nil,           -- nil = auto-detect nerd font, or set custom icon
        hl = "StrideSign",    -- Highlight group for sign
      },
      -- sign = false,        -- Set to false to disable gutter sign
    })
<


HIGHLIGHT GROUPS ~

Stride defines the following highlight groups with sensible defaults. To
customize, define them **before** calling `setup()`:

>lua
    -- Custom highlights (define before setup)
    vim.api.nvim_set_hl(0, "StrideReplace", { fg = "#ff5555", strikethrough = true })
    vim.api.nvim_set_hl(0, "StrideRemoteSuggestion", { fg = "#8be9fd", italic = true })
    vim.api.nvim_set_hl(0, "StrideInsert", { fg = "#50fa7b", italic = true })
    vim.api.nvim_set_hl(0, "StrideSign", { fg = "#50fa7b" })
    
    require("stride").setup()
<

  ------------------------------------------------------------------------
  Highlight Group                    Purpose            Default
  ---------------------------------- ------------------ ------------------
  StrideReplace                      Text being         DiagnosticError fg,
                                     replaced           strikethrough
                                     (strikethrough)    

  StrideRemoteSuggestion             Replacement text   DiagnosticOk fg,
                                     preview            italic

  StrideInsert                       Insertion point    DiagnosticOk fg,
                                     marker             italic

  StrideSign                         Gutter icon for    DiagnosticOk fg
                                     active suggestions 
  ------------------------------------------------------------------------

USAGE                                               *stride-stride.nvim-usage*


COMPLETION MODE (DEFAULT) ~

1. Start typing in insert mode
2. After a brief pause (300ms default), a ghost text suggestion appears
3. Press `<Tab>` to accept the suggestion
4. Press any other key to dismiss and continue typing


REFACTOR MODE ~

1. Enable refactor mode:

>lua
    require("stride").setup({ mode = "refactor" })
    -- or use both modes simultaneously:
    require("stride").setup({ mode = "both" })
<


2. Make an edit (e.g., rename a variable)


3. Exit insert mode — stride detects the change and predicts related edits


4. Remote suggestion appears: original text strikethrough in red, replacement
shown at EOL in cyan


5. Press `<Tab>` to accept the edit


6. Press `<Esc>` to dismiss and continue editing


7. Use `:StrideClear` to reset tracked changes




GLOBAL TOGGLE ~

- `:StrideEnable` — Enable predictions globally
- `:StrideDisable` — Disable predictions, clear UI, cancel pending requests


WITH BLINK.CMP ~

If you use blink.cmp <https://github.com/saghen/blink.cmp>, configure Tab to
check for stride suggestions first:

>lua
    {
      "saghen/blink.cmp",
      opts = {
        keymap = {
          ["<Tab>"] = {
            function(cmp)
              local ok, ui = pcall(require, "stride.ui")
              if ok and ui.current_suggestion then
                return require("stride").accept()
              end
              return cmp.select_next()
            end,
            "fallback",
          },
        },
      },
    }
<

Or use a different keymap for stride to avoid conflicts:

>lua
    require("stride").setup({
      accept_keymap = "<C-y>",  -- Use Ctrl+Y instead of Tab
    })
<


WITH FIDGET.NVIM ~

If fidget.nvim <https://github.com/j-hui/fidget.nvim> is installed, stride
shows non-intrusive notifications when refactor suggestions are available:

- "1 edit suggested — Tab to apply"
- "Edit 1/3 — Tab to apply" (when multiple edits pending)

No configuration needed — fidget is detected automatically.


HOW IT WORKS                                 *stride-stride.nvim-how-it-works*


COMPLETION MODE ~

1. **Debounced Trigger**: After you stop typing for 300ms, a prediction is requested
2. **Smart Context**: Uses Treesitter to capture full function/class definitions in context
3. **Ghost Text**: Suggestions appear as dimmed text after your cursor
4. **Race Protection**: Stale responses are discarded if you’ve moved the cursor


REFACTOR MODE ~

1. **Incremental Tracking**: Edits tracked in real-time via `nvim_buf_attach` with `on_bytes` callback
2. **InsertLeave Trigger**: On leaving insert mode, stride analyzes recent edits
3. **Next-Edit Prediction**: LLM predicts related changes based on your edit patterns
4. **Remote Rendering**: Target text shown with strikethrough, replacement at EOL
5. **Accept or Dismiss**: Tab accepts, Esc dismisses in normal mode
6. **Token Budget**: Change history is trimmed to fit token budget for prompt


PLUGIN STRUCTURE                         *stride-stride.nvim-plugin-structure*

>
    lua/
    └── stride/
        ├── init.lua      # Public API, setup(), autocmds
        ├── config.lua    # User defaults, options merging
        ├── utils.lua     # Context extraction, Treesitter expansion
        ├── client.lua    # Cerebras API integration (completion)
        ├── ui.lua        # Ghost text rendering (local + remote)
        ├── history.lua   # Buffer snapshots, diff computation
        ├── predictor.lua # Next-edit prediction
        └── log.lua       # Debug logging
<


ROADMAP                                           *stride-stride.nvim-roadmap*

- LSP integration (diagnostics, symbols, go-to-definition context)
- Treesitter integration (semantic context, scope-aware predictions)
- Multi-file context awareness
- Custom prompt templates
- Prediction caching


DEVELOPMENT                                   *stride-stride.nvim-development*


RUN TESTS ~

>bash
    make test
<


FORMAT CODE ~

>bash
    stylua lua/
<


LICENSE                                           *stride-stride.nvim-license*

MIT

==============================================================================
2. Links                                                        *stride-links*

1. *GitHub Workflow Status*: https://img.shields.io/github/actions/workflow/status/ellisonleao/nvim-plugin-template/lint-test.yml?branch=main&style=for-the-badge
2. *Lua*: https://img.shields.io/badge/Made%20with%20Lua-blueviolet.svg?style=for-the-badge&logo=lua

Generated by panvimdoc <https://github.com/kdheepak/panvimdoc>

vim:tw=78:ts=8:noet:ft=help:norl:
